(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{361:function(t,e,a){"use strict";a.r(e);var s=a(42),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting started")]),t._v(" "),a("h2",{attrs:{id:"step-1-install-fitbitter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-1-install-fitbitter"}},[t._v("#")]),t._v(" Step 1: Install Fitbitter")]),t._v(" "),a("p",[t._v("To install Fitbitter, simply add "),a("code",[t._v("fitbitter:")]),t._v(" to the dependencies of your "),a("code",[t._v("pubspec.yaml")]),t._v(" file:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dependencies")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fitbitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#latest version")]),t._v("\n")])])]),a("h2",{attrs:{id:"step-2-test-fitbitter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-2-test-fitbitter"}},[t._v("#")]),t._v(" Step 2: Test Fitbitter")]),t._v(" "),a("p",[t._v("Once installed, it is time to test drive Fitbitter. In this example, we will use Fitbitter to authenticate our app into Fitbit APIs and simply fetch yesterday's step count.")]),t._v(" "),a("h3",{attrs:{id:"preliminary-requirement-register-your-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preliminary-requirement-register-your-app"}},[t._v("#")]),t._v(" Preliminary requirement: Register your app")]),t._v(" "),a("p",[t._v('To be able to perform any operation with the Fitbit APIs, you must register first your application in the developer portal of Fitbit and obtain two IDs, namely the "'),a("strong",[t._v("OAuth 2.0 Client ID")]),t._v('" and the "'),a("strong",[t._v("Client Secret")]),t._v('". To do so, you have to follow these steps.')]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Create a Fitbit account, if you do not have one.")])]),t._v(" "),a("li",[a("p",[t._v("Register a new app at "),a("a",{attrs:{href:"https://dev.fitbit.com/apps/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dev.fitbit.com/apps/new"),a("OutboundLink")],1),t._v(".\nThe form will look like this:\n"),a("img",{attrs:{src:"/fitbitAppRegistrationForm.png",alt:"Fitbit App Registration Form"}})])]),t._v(" "),a("li",[a("p",[t._v('Choose an "Application Name" (e.g., "Example").')])]),t._v(" "),a("li",[a("p",[t._v('Set a brief "Description" (e.g., "Just a simple test of an awesome package.")')])]),t._v(" "),a("li",[a("p",[t._v('Set the "Application Website". It can be random for the purpose of testing the example so let\'s put https://www.example.com/.')])]),t._v(" "),a("li",[a("p",[t._v('Set an "Organization" (e.g., "Myself").')])]),t._v(" "),a("li",[a("p",[t._v('Set an "Organization Website". It can be random for the purpose of testing the example so let\'s put https://www.myself.com/.')])]),t._v(" "),a("li",[a("p",[t._v('Set a "Terms of Service Url". It can be random for the purpose of testing the example so let\'s put https://www.myself.com/tos.')])]),t._v(" "),a("li",[a("p",[t._v('Set an "Privacy Policy Url". It can be random for the purpose of testing the example so let\'s put https://www.myself.com/pp.')])]),t._v(" "),a("li",[a("p",[t._v('Set the "Application Type" to "Client".')])]),t._v(" "),a("li",[a("p",[t._v('Choose a Callback URL" (e.g., "example://fitbit/auth").')])]),t._v(" "),a("li",[a("p",[t._v('Choose a "Default Access Type" (e.g., "Read-Only").')])]),t._v(" "),a("li",[a("p",[t._v('Check the "I have read and agree to the terms of service" box.')])]),t._v(" "),a("li",[a("p",[t._v('Click the "Register" button. You should now see the "'),a("strong",[t._v("OAuth 2.0 Client ID")]),t._v('" and the "'),a("strong",[t._v("Client Secret")]),t._v('" strings provided by Fitbit.')])])]),t._v(" "),a("h3",{attrs:{id:"app-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-authentication"}},[t._v("#")]),t._v(" App authentication")]),t._v(" "),a("p",[t._v("You are now ready to authorize your application.")]),t._v(" "),a("p",[t._v("To do that, simply call the asynchronous method "),a("code",[t._v("FitbitConnector.authorize()")]),t._v(", within your code, as:")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("    String"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" userId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" FitbitConnector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("authorize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        clientID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<OAuth 2.0 Client ID>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        clientSecret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Client Secret>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        redirectUri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Redirect Uri used during the registration, e.g., example://fitbit/auth>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        callbackUrlScheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Callback Uri scheme, e.g., example>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("This will open a web view where user will be able to input his Fitbit credentials and login.\nAfter the login, the web view will close and the method will return a "),a("code",[t._v("String?")]),t._v(" containing the "),a("code",[t._v("userId")]),t._v(".")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Don't worry about storing the auth tokens provided by the Fitbit API, Fitbitter will do that for you leveraging the "),a("code",[t._v("SharedPreferences")]),t._v(" abd "),a("code",[t._v("GetIt")]),t._v(" packages. If you want you can access to the token values using")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("GetIt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("instance"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SharedPreferences"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fitbitAccessToken"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nGetIt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("instance"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SharedPreferences"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fitbitRefreshToken"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Remember to retain "),a("code",[t._v("userId")]),t._v(": it will be used to fetch data.")])]),t._v(" "),a("h3",{attrs:{id:"fetch-step-count-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fetch-step-count-data"}},[t._v("#")]),t._v(" Fetch step count data")]),t._v(" "),a("p",[t._v("With your app authorized, you are now ready to fetch data from Fitbit. In this example, we will fetch yesterday's step count.")]),t._v(" "),a("p",[t._v("Using Fitbitter, this is very easy. First instanciate a "),a("code",[t._v("FitbitActivityTimeseriesDataManager")]),t._v(" of "),a("code",[t._v("type: 'steps'")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("    FitbitActivityTimeseriesDataManager\n        fitbitActivityTimeseriesDataManager "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("FitbitActivityTimeseriesDataManager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            clientID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<OAuth 2.0 Client ID>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            clientSecret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Client Secret>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'steps'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Then fetch the desired data using the "),a("code",[t._v("fetch")]),t._v(" method of "),a("code",[t._v("FitbitActivityTimeseriesDataManager")]),t._v(" with the proper "),a("code",[t._v("FitbitActivityTimeseriesAPIURL")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" stepsData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" fitbitActivityTimeseriesDataManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    FitbitActivityTimeseriesAPIURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dayWithResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DateTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subtract")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Duration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("days"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        userID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fitbitAccount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fitbitActivityTimeseriesDataManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("as")]),t._v(" List"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("FitbitActivityTimeseriesData"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("That's it!")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("For more information on Fitbitter functionalities, check out the "),a("RouterLink",{attrs:{to:"/guides/"}},[t._v("Guides")]),t._v(" and the Fitbitter "),a("a",{attrs:{href:"https://pub.dev/documentation/fitbitter/latest/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Reference API"),a("OutboundLink")],1)],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);